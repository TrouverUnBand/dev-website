@model  TrouveUnBand.Models.EventPageViewModel
@{
    ViewBag.Title = "Événements";
}

<div id="event-page-container">
    <div class="col-md-12">
        <h2 class="col-md-12 row">Événements</h2>
    </div>

    <div class="col-md-12">
        @if (User.Identity.Name != "")
        {
            @Html.ActionLink("Créer un événement", "Create", new { controller = "Event" }, new { @class = "btn btn-primary" })
        }
        <button id="show-filter-btn" class="btn btn-default pull-right" type="button">Afficher/Masquer filtres</button>
    </div>

    <div id="page-section-calendar" class="col-md-12 page-display-div">
        <div id="calendar" class="col-md-9"></div>
        <input type="hidden" id="DayWithEvent" value=@Model.DayWithEvent />
        <div id="filter-menu" class="col-md-3">
            <div id="menu-title" class="col-md-12">
                <span>Filtres</span>
            </div>
            <div id="menu-content" class="col-md-12">
                <input id="input-keyword" type="text" placeholder="Mots-clés" class="form-control"/>
                <select class="form-control selectpicker">
                    <option value="25">25 résultats par page</option>
                    <option value="50">50 résultats par page</option>
                    <option value="75">75 résultats par page</option>
                    <option value="100">100 résultats par page</option>
                </select>
                <select id="select-view" class="form-control selectpicker">
                    <option value="list">Affichage en: Liste</option>
                    <option value="grid">Affichage en: Grille</option>
                </select>
            </div>
        </div>
    </div>

    <div id="page-section-list" class="col-md-12 page-display-div active">
        @foreach (var item in Model.EventList)
        {
            <div class="event-panel col-md-12">
                <img src="@item.Photo" alt="Image" class="col-md-3">

                <div class="event-panel-date col-md-2">
                    <h3 class="col-md-3">@item.DayOfTheWeek</h3>
                    <h1 class="col-md-12 day-and-month">@item.DayAndMonth</h1>
                </div>

                <div class="event-panel-info col-md-5">
                    <span class="col-md-12">@item.Location</span>
                    <h2 class="col-md-12">@item.Name</h2>
                    @if (@item.Bands.FirstOrDefault() != null)
                    {
                        <span class="col-md-12">@item.Bands.FirstOrDefault().Name</span>
                    }
                </div>

                <div class="event-panel-button col-md-2">
                    @if (item.UserNickname == User.Identity.Name)
                    {
                        @Html.ActionLink("Modifier", "Edit", new { id = item.Event_ID }, new { @class = "btn btn-sm btn-default col-md-12" })
                    }
                    @Html.ActionLink("Détails", "EventProfile", new { id = item.Event_ID }, new { @class = "btn btn-primary col-md-12 pull-right" })
                </div>
            </div>
        }
    </div>

    <div id="page-section-grid" class="col-md-12 page-display-div">
        @foreach (var item in Model.EventList)
        {
            <div class="col-md-3 event-thumbnail">
                <div class="thumbnail">
                    <img src=@item.Photo alt="Image">
                    <div class="caption">
                        <h3 class="search-manage-overflow title">@item.Name</h3>
                        <p class="search-manage-overflow">
                            <span>@item.DayOfTheWeek</span> 
                            <span class="day-and-month">@item.DayAndMonth</span>
                        </p>
                        <p class="search-manage-overflow">Description</p>
                        <p class="search-manage-overflow location">
                            <span class="glyphicon glyphicon-map-marker"></span>
                            @item.Location
                        </p>
                        @Html.ActionLink("Détails", "EventProfile", new { id = item.Event_ID }, new { @class = "btn btn-primary", @role = "button" })
                        @if (item.UserNickname == User.Identity.Name)
                        {
                            @Html.ActionLink("Modifier", "Edit", new { id = item.Event_ID }, new { @class = "btn btn-default pull-right", @role = "button" })
                        }
                    </div>
                </div>
            </div>
        }
    </div>
</div>

