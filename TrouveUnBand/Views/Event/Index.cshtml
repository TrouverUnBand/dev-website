@model  List<TrouveUnBand.Classes.EventInfo>
@{
    ViewBag.Title = "Événements";
}

<div id="event-page-container">
    <div class="col-md-12">
        <h2 class="col-md-6">Événements</h2>

        <div id="grid-selector" class="col-md-2 pull-right">
            <div class="btn-group pull-right" role="group">
                <button type="button" class="btn btn-default active" data-div-id="page-display-list">
                    <span class="glyphicon glyphicon-th-list"></span>
                </button>
                <button type="button" class="btn btn-default" data-div-id="page-display-grid">
                    <span class="glyphicon glyphicon-th"></span>
                </button>
                <button type="button" class="btn btn-default" data-div-id="page-display-calendar">
                    <span class="glyphicon glyphicon-calendar"></span>
                </button>
            </div>
        </div>

    </div>

    <div class="col-md-12">
        @if (User.Identity.Name != "")
        {
            @Html.ActionLink("Créer un événement", "Create", new {controller = "Event"}, new {@class = "btn btn-primary"})
        }
    </div>

    <div id="page-display-calendar" class="col-md-12 page-display-div">
        <div>
            <div id="calendar" class="col-md-9"></div>
        </div>
        <div id="calendar-menu" class="col-md-3">
            <span id="menu-title">gg</span>
        </div>
    </div>

    <div id="page-display-list" class="col-md-12 page-display-div active">
        @foreach (var item in Model)
        {
            <div class="event-panel col-md-12">
                <img src="@item.Photo" alt="Image" class="col-md-3">

                <div class="event-panel-date col-md-2">
                    <h3 class="col-md-3">@item.DayOfTheWeek</h3>
                    <h1 class="col-md-12">@item.DayAndMonth</h1>
                </div>

                <div class="event-panel-info col-md-5">
                    <span class="col-md-12">@item.Location</span>
                    <h2 class="col-md-12">@item.Name</h2>
                    @if (@item.Bands.FirstOrDefault() != null)
                    {
                        <span class="col-md-12">@item.Bands.FirstOrDefault().Name</span>
                    }
                </div>

                <div class="event-panel-button col-md-2">
                    @if (item.UserNickname == User.Identity.Name)
                    {
                        @Html.ActionLink("Modifier", "Edit", new {id = item.Event_ID}, new {@class = "btn btn-sm btn-default col-md-12"})
                    }
                    @Html.ActionLink("Détails", "EventProfile", new {id = item.Event_ID}, new {@class = "btn btn-primary col-md-12 pull-right"})
                </div>
            </div>
        }
    </div>

    <div id="page-display-grid" class="col-md-12 page-display-div">
    </div>
</div>
