@using System
@model TrouveUnBand.Models.Band
@{
    ViewBag.Title = "Création band";
}

@using (Html.BeginForm("Create", "Group"))
{
    @Html.TextBoxFor(model => model.Name, "", new { @class = "form-control", @placeholder = "Nom du band" })
    @Html.TextBoxFor(model => model.Location, "", new { @class = "form-control", @placeholder = "Ville" })
    @Html.TextAreaFor(model => model.Description, new { @class = "form-control", @placeholder = "Description" })
    <select name="cbSelectedGenres" class="selectpicker form-control" title="Genres musicaux"
            data-width="100%" data-live-search="true" data-selected-text-format="count>3" multiple>
        @foreach (var list in (List<List<String>>)ViewBag.Subgenres)
        {
            <li class="dropdown-submenu">
                <optgroup label="@list.FirstOrDefault()">
                    <ul class="dropdown-menu">
                        @foreach (var genre in list)
                        {
                            <option>@genre</option>
                        }
                    </ul>
                </optgroup>
            </li>
        }
    </select>
}




@using (Ajax.BeginForm("SearchMusician", "Group", new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "user-results" }))
{
    @Html.TextBox("searchString")
    <button type="submit">Rechercher un musician</button>
}

<div id="band-members"></div>

<div id="user-results"></div>
