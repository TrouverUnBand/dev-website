@model TrouveUnBand.Models.Band

@{
    ViewBag.Title = "Création band";
}


<h2>Création de band</h2>
@if (Request.IsAuthenticated)
{
    var band = (TrouveUnBand.Models.Band)ViewData["BandData"];

    <div class="span5">
        @using (Ajax.BeginForm("Create", "Group", FormMethod.Get, new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "ConfirmCreateView" }))
        {
    
            <div class="editor-label">
                @Html.Label("Nom")
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Name)
                @Html.ValidationMessageFor(model => model.Name)
            </div>

            <div>
                @Html.Label("Genre")
            </div>
            <div>
                @Html.DropDownList("GenreList", new SelectList(ViewBag.GenreListDD, "GenreId", "Name", 0), new { @class = "form-control" })
            </div>
    
    
            <div class="editor-label">
                @Html.Label("Location")
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Location)
                @Html.ValidationMessageFor(model => model.Location)
            </div>

            <div class="editor-label">
                @Html.Label("Description")
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Description)
                @Html.ValidationMessageFor(model => model.Description)

            </div>

                <button type="submit" value="Créer">Créer</button>
        }

    </div>

    <div class="span5">

        <div id="UserSearchResults">
        @Html.Partial("_UserSearchResults")
        </div>
    </div>

    <div id="ConfirmCreateView">
        @Html.Partial("_ConfirmCreate")
    </div>
}
else
{
    <h2>@Html.ActionLink("Sign in", "Login", "Users", routeValues: null, htmlAttributes: new { id = "registerLink" })</h2>
}


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrapjs")
    @Scripts.Render("~/Scripts/bootstrap-validation.js")

}